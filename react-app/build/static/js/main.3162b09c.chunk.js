(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{56:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(29),a=n.n(c),i=n(3),o=n(7),l=n(5),u=(n(56),n(0)),j=s.a.createContext();function d(e){var t=e.children,n=Object(r.useRef)(),s=Object(r.useState)(null),c=Object(l.a)(s,2),a=c[0],i=c[1],o=Object(r.useState)(null),d=Object(l.a)(o,2),b=d[0],h=d[1],O={modalRef:n,modalContent:a,setModalContent:i,setOnModalClose:h,closeModal:function(){i(null),"function"===typeof b&&(h(null),b())}};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.Provider,{value:O,children:t}),Object(u.jsx)("div",{ref:n})]})}function b(){var e=Object(r.useContext)(j),t=e.modalRef,n=e.modalContent,s=e.closeModal;return t&&t.current&&n?a.a.createPortal(Object(u.jsxs)("div",{id:"modal",children:[Object(u.jsx)("div",{id:"modal-background",onClick:s}),Object(u.jsx)("div",{id:"modal-content",children:n})]}),t.current):null}var h=function(){return Object(r.useContext)(j)},O=n(40),v=n(45),x=n(4),f=n(2),p=n.n(f),m=n(6),g="session/SET_USER",k="session/REMOVE_USER",y="/session/GET_ALL_USERS",w=function(e){return{type:g,payload:e}},N={user:null,allUsers:{}},_=function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){var s,c,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(!(s=n.sent).ok){n.next=11;break}return n.next=6,s.json();case 6:return c=n.sent,r(w(c)),n.abrupt("return",null);case 11:if(!(s.status<500)){n.next=19;break}return n.next=14,s.json();case 14:if(!(a=n.sent).errors){n.next=17;break}return n.abrupt("return",a.errors);case 17:n.next=20;break;case 19:return n.abrupt("return",["An error occurred. Please try again."]);case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t,n,r,s,c,a){return function(){var i=Object(m.a)(p.a.mark((function i(o){var l,u,j;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,first_name:n,last_name:r,password:s,city:c,phone_number:a})});case 2:if(!(l=i.sent).ok){i.next=11;break}return i.next=6,l.json();case 6:return u=i.sent,o(w(u)),i.abrupt("return",null);case 11:if(!(l.status<500)){i.next=19;break}return i.next=14,l.json();case 14:if(!(j=i.sent).errors){i.next=17;break}return i.abrupt("return",j.errors);case 17:i.next=20;break;case 19:return i.abrupt("return",["An error occurred. Please try again."]);case 20:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()};var S,T="bookings/getAllBookings",E="bookings/editBooking",R="bookings/getOneBooking",M="bookings/deleteBooking",U=function(e){return{type:"bookings/createABooking",booking:e}},P=function(e){return{type:E,booking:e}},I=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/taskers/".concat(e.tasker_id,"/book"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(U(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/bookings/all");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:T,bookings:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/bookings/edit/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(P(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/bookings/delete/".concat(e),{method:"DELETE"});case 2:t.sent.ok&&n({type:M,booking:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L={currentUserBookings:{},singleBooking:{}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var n={},r=t.bookings;return r.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{currentUserBookings:n});case R:var s={},c=t.booking;return s[c.id]=c,Object(x.a)(Object(x.a)({},e),{},{singleBooking:s});case E:var a={},i=t.booking;return a[i.id]=i,Object(x.a)(Object(x.a)({},e),{},{singleBooking:a});case M:var o=Object(x.a)(Object(x.a)({},e),{},{currentUserBookings:Object(x.a)({},e.currentUserBookings),singleBooking:Object(x.a)({},e.singleBooking)});return delete o.currentUserBookings[t.bookingId],delete o.singleBooking[t.bookingId],o;default:return e}},q="tasks/getAllTasks",H=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tasks/all");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:q,tasks:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J={allTasks:{},singleTask:{}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:var n={},r=t.tasks;return r.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{allTasks:n});default:return e}},G="review/loadCurrUserReviews",V="review/allReviews",W="review/createReview",K="review/editReview",z="review/getReview",Q="review/deleteReview",X=function(e){return{type:z,review:e}},Z=function(e){return{type:W,review:e}},$=function(e){return{type:K,review:e}},ee=function(e){return{type:Q,review:e}},te=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/reviews/currentUser");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:G,reviews:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/reviews/all");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:V,reviews:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/reviews/currentUser/".concat(e.id));case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(X(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/taskers/".concat(e.tasker_id,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(Z(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/reviews/edit/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n($(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae={currentUserReviews:{},singleReview:{},allReviews:{}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:var n={},r=t.reviews;return r.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{currentUserReviews:n});case V:var s={},c=t.reviews;return c.forEach((function(e){s[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{allReviews:s});case z:var a={},i=t.review;return a[i.id]=i,Object(x.a)(Object(x.a)({},e),{},{singleReview:a});case W:var o={},l=t.review;return o[l.id]=l,Object(x.a)(Object(x.a)({},e),{},{singleReview:o,allReviews:Object(x.a)(Object(x.a)({},e.allReviews),o)});case K:var u={},j=(Object(x.a)({},e),t.review);return u[j.id]=j,{currentUserReviews:Object(x.a)(Object(x.a)({},e.currentUserReviews),u),singleReview:u,allReviews:Object(x.a)({},e.allReviews)};case Q:var d=Object(x.a)({},e.currentUserReviews),b=Object(x.a)({},e.singleReview),h=t.review.reviewId;return delete d[h],delete b[h],{currentUserReviews:d,singleReview:b,allReviews:Object(x.a)({},e.allReviews)};default:return e}},oe="tasker/loadAllTaskers",le="tasker/loadSingleTasker",ue=function(e){return{type:oe,taskers:e}},je=function(e){return{type:le,tasker:e}},de=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/taskers/all");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t(ue(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/taskers/".concat(e));case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(je(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he={allTaskers:{},singleTasker:{}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:var n={},r=t.taskers;return r.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{allTaskers:n});case le:var s={},c=t.tasker;return s[c.id]=c,Object(x.a)(Object(x.a)({},e),{},{singleTasker:s});default:return e}},ve=n(36),xe="billing/getallcards",fe="billing/createCard",pe="billing/deleteCard",me=function(e){return{type:fe,card:e}},ge=function(e){return{type:pe,cardId:e}},ke=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/billing/");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:xe,cards:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/billing/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(me(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/billing/delete/".concat(e),{method:"DELETE"});case 2:t.sent.ok&&n(ge(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne={currentUserCards:{}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:var n={},r=t.cards;return r.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{currentUserCards:n});case fe:var s={},c=t.card;return s[c.id]=c,Object(x.a)(Object(x.a)({},e),{},{currentUserCards:Object(ve.a)({},c.id,c)});case pe:var a=Object(x.a)(Object(x.a)({},e),{},{currentUserCards:Object(x.a)({},e.currentUserCards)});return delete a.currentUserCards[t.cardId],a;default:return e}},Ce="messages/GET_ALL_MESSAGES",Se="messages/GET_USER_MESSAGES",Te="messages/CREATE_USER_MESSAGE",Ee=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/messages/".concat(e,"/messages"));case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n({type:Ce,msgs:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/messages/".concat(e.id,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return s=t.sent,n({type:Te,message:s}),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Me={allMsg:{},userMsgs:{}},Ue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ce:e={};var r=n.msgs;return r.forEach((function(t){e[t.id]=t})),{allMsg:e};case Se:e={};var s=n.msgs;return s.forEach((function(t){e[t.id]=t})),{userMsgs:e};case Te:e={};var c=n.message;return e[c.id]=c,Object(x.a)(Object(x.a)({},t),{},{userMsgs:Object(x.a)(Object(x.a)({},t.userMsgs),e)});default:return t}},Pe=Object(O.b)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(x.a)(Object(x.a)({},e),{},{user:t.payload});case k:return Object(x.a)(Object(x.a)({},e),{},{user:null});case y:var n={},r=t.users;return r.users.forEach((function(e){n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{allUsers:n});default:return e}},booking:A,task:Y,review:ie,tasker:Oe,billing:_e,messages:Ue});S=Object(O.a)(v.a);var Ie=function(e){return Object(O.c)(Pe,e,S)},De=n(8);n(59);var Be=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.session.user})),n=Object(r.useState)(""),s=Object(l.a)(n,2),c=s[0],a=s[1],o=Object(r.useState)(""),j=Object(l.a)(o,2),d=j[0],b=j[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),v=O[0],x=O[1],f=Object(r.useState)(""),g=Object(l.a)(f,2),k=g[0],y=g[1],w=Object(r.useState)(""),N=Object(l.a)(w,2),_=N[0],S=N[1],T=Object(r.useState)(""),E=Object(l.a)(T,2),R=E[0],M=E[1],U=Object(r.useState)(""),P=Object(l.a)(U,2),I=P[0],D=P[1],B=Object(r.useState)(""),F=Object(l.a)(B,2),L=F[0],A=F[1],q=Object(r.useState)([]),H=Object(l.a)(q,2),J=H[0],Y=H[1];if(t)return Object(u.jsx)(De.Redirect,{to:"/"});var G=function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),v!==k){t.next=8;break}return t.next=4,e(C(d,c,I,L,v,_,R));case 4:(r=t.sent)&&Y(r),t.next=9;break;case 8:Y(["Confirm Password field must be the same as the Password field"]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("form",{onSubmit:G,children:[Object(u.jsx)("ul",{children:J.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))}),Object(u.jsxs)("label",{children:["Email",Object(u.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(u.jsxs)("label",{children:["Username",Object(u.jsx)("input",{type:"text",value:d,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(u.jsxs)("label",{children:["First Name",Object(u.jsx)("input",{type:"text",value:I,onChange:function(e){return D(e.target.value)}})]}),Object(u.jsxs)("label",{children:["Last Name",Object(u.jsx)("input",{type:"text",value:L,onChange:function(e){return A(e.target.value)}})]}),Object(u.jsxs)("label",{children:["City",Object(u.jsx)("input",{type:"text",value:_,onChange:function(e){return S(e.target.value)}})]}),Object(u.jsxs)("label",{children:["Phone Number",Object(u.jsx)("input",{type:"text",value:R,onChange:function(e){return M(e.target.value)}})]}),Object(u.jsxs)("label",{children:["Password",Object(u.jsx)("input",{type:"password",value:v,onChange:function(e){return x(e.target.value)},required:!0})]}),Object(u.jsxs)("label",{children:["Confirm Password",Object(u.jsx)("input",{type:"password",value:k,onChange:function(e){return y(e.target.value)},required:!0})]}),Object(u.jsx)("div",{className:"loginButtons",children:Object(u.jsx)("button",{type:"submit",children:"Sign Up"})})]})]})};n(61);var Fe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.session.user})),n=Object(r.useState)(""),s=Object(l.a)(n,2),c=s[0],a=s[1],o=Object(r.useState)(""),j=Object(l.a)(o,2),d=j[0],b=j[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),v=O[0],x=O[1];if(t)return Object(u.jsx)(De.Redirect,{to:"/"});var f=function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(_(c,d));case 3:(r=t.sent)&&x(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Log In"}),Object(u.jsxs)("form",{onSubmit:f,children:[Object(u.jsx)("ul",{children:v.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))}),Object(u.jsxs)("label",{children:["Email",Object(u.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(u.jsxs)("label",{children:["Password",Object(u.jsx)("input",{type:"password",value:d,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Log In"})]})]})};var Le=function(e){var t=e.modalComponent,n=e.buttonText,r=e.onButtonClick,s=e.onModalClose,c=h(),a=c.setModalContent,i=c.setOnModalClose;return Object(u.jsx)("button",{onClick:function(){s&&i(s),a(t),r&&r()},children:n})};n(62);var Ae=function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)(""),o=Object(l.a)(a,2),j=o[0],d=o[1],b=Object(r.useState)([]),O=Object(l.a)(b,2),v=O[0],x=O[1],f=h().closeModal,g=function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(_(s,j));case 3:(r=t.sent)?x(r):f();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"signupForm",onSubmit:g,children:[Object(u.jsx)("h1",{children:"Log In"}),v.map((function(e,t){return Object(u.jsx)("p",{className:"error",children:e},t)})),Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return c(e.target.value)},required:!0})]}),v.email&&Object(u.jsx)("p",{children:v.email}),Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",value:j,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"loginButtons",children:[v.password&&Object(u.jsx)("p",{children:v.password}),Object(u.jsx)("button",{type:"submit",disabled:!s||!j,children:"Log In"}),Object(u.jsx)("button",{onClick:function(t){return c("demo@aa.io"),d("password"),e(_({email:s,password:j})).then(f)},children:"Login in as Demo User"})]})]})})};n(63);var qe=function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(l.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)(""),o=Object(l.a)(a,2),j=o[0],d=o[1],b=Object(r.useState)(""),O=Object(l.a)(b,2),v=O[0],x=O[1],f=Object(r.useState)(""),g=Object(l.a)(f,2),k=g[0],y=g[1],w=Object(r.useState)([]),N=Object(l.a)(w,2),_=N[0],S=N[1],T=Object(r.useState)(""),E=Object(l.a)(T,2),R=E[0],M=E[1],U=Object(r.useState)(""),P=Object(l.a)(U,2),I=P[0],D=P[1],B=Object(r.useState)(""),F=Object(l.a)(B,2),L=F[0],A=F[1],q=Object(r.useState)(""),H=Object(l.a)(q,2),J=H[0],Y=H[1],G=Object(r.useState)(""),V=Object(l.a)(G,2),W=V[0],K=V[1],z=h().closeModal,Q=function(){var t=Object(m.a)(p.a.mark((function t(n){var r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r={},s||(r.email="Email is required"),j||(r.username="Username is required"),v||(r.password="Password is required"),L||(r.phone_number="Phone is required"),I||(r.city="City is required"),J||(r.first_name="First name is required"),W||(r.last_name="Last name is required"),M(r),!Object.keys(r).length){t.next=12;break}return t.abrupt("return");case 12:if(v!==k){t.next=19;break}return t.next=15,e(C(j,s,J,W,v,I,L));case 15:(c=t.sent)?S(c):z(),t.next=20;break;case 19:S(["Confirm Password field must be the same as the Password field"]);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"signupForm",onSubmit:Q,children:[Object(u.jsx)("h1",{children:"Sign Up"}),_.map((function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"error",children:e},t)})})),R.email?Object(u.jsx)("p",{className:"error",children:R.email}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return c(e.target.value)}})]}),R.username?Object(u.jsx)("p",{className:"error",children:R.username}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{type:"text",value:j,onChange:function(e){return d(e.target.value)}})]}),R.first_name?Object(u.jsx)("p",{className:"error",children:R.first_name}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"First Name"}),Object(u.jsx)("input",{type:"text",value:J,onChange:function(e){return Y(e.target.value)}})]}),R.last_name?Object(u.jsx)("p",{className:"error",children:R.last_name}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Last Name"}),Object(u.jsx)("input",{type:"text",value:W,onChange:function(e){return K(e.target.value)}})]}),R.city?Object(u.jsx)("p",{className:"error",children:R.city}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"City"}),Object(u.jsx)("input",{type:"text",value:I,onChange:function(e){return D(e.target.value)}})]}),R.phone_number?Object(u.jsx)("p",{className:"error",children:R.phone_number}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Phone Number"}),Object(u.jsx)("input",{type:"text",value:L,onChange:function(e){return A(e.target.value)}})]}),R.password?Object(u.jsx)("p",{className:"error",children:R.password}):null,Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",value:v,onChange:function(e){return x(e.target.value)}})]}),Object(u.jsxs)("div",{className:"signupDiv",children:[Object(u.jsx)("label",{children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",value:k,onChange:function(e){return y(e.target.value)}})]}),Object(u.jsx)("div",{className:"signupButton",children:Object(u.jsx)("button",{type:"submit",children:"Sign Up"})})]})})};var He=function(e){var t=e.user,n=Object(i.b)(),s=Object(r.useState)(!1),c=Object(l.a)(s,2),a=c[0],o=c[1],j=Object(r.useRef)(),d=Object(De.useHistory)();Object(r.useEffect)((function(){if(a){var e=function(e){j.current.contains(e.target)||o(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[a]);var b="profile-dropdown"+(a?"":" hidden"),h=function(){return o(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){a||o(!0)},children:Object(u.jsx)("i",{className:"fas fa-paw"})}),Object(u.jsx)("ul",{className:b,ref:j,children:t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:t.username}),Object(u.jsx)("li",{children:t.email}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n(function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/logout",{headers:{"Content-Type":"application/json"}});case 2:e.sent.ok&&t({type:k});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h(),d.push("/")},children:"Log Out"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Le,{buttonText:"Log In",onItemClick:h,modalComponent:Object(u.jsx)(Ae,{})}),Object(u.jsx)(Le,{buttonText:"Sign Up",onItemClick:h,modalComponent:Object(u.jsx)(qe,{})})]})})]})};n(64);var Je,Ye=function(e){var t=e.isLoaded,n=Object(i.c)((function(e){return e.session.user}));return Object(u.jsxs)("div",{className:"nav-bar-container",children:[Object(u.jsx)("div",{className:"logo-home",children:Object(u.jsx)(o.c,{className:"nav-links-on-navbar panda-logo",exact:!0,to:"/",children:Object(u.jsx)("img",{className:"panda-png",src:"https://cdn.discordapp.com/attachments/1062942242450460744/1116920295043899504/panda.png"})})}),Object(u.jsx)("div",{}),Object(u.jsxs)("div",{className:"other-nav-links",children:[n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.c,{className:"nav-links-on-navbar navbargreen",exact:!0,to:"/available",children:"Available taskers!"}),Object(u.jsx)(o.c,{className:"nav-links-on-navbar navbargreen",exact:!0,to:"/account",children:"Account"}),Object(u.jsx)(o.c,{className:"nav-links-on-navbar navbargreen",exact:!0,to:"/users",children:"Chat with other Users"})]}):null,t&&Object(u.jsx)(He,{className:"profile-dropdown",user:n})]})]})},Ge=function(e){var t=e.review,n=Object(i.b)(),r=Object(De.useHistory)(),s=h().closeModal;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{className:"reviewTitle",children:"Confirm Delete"})}),Object(u.jsx)("p",{children:"Are you sure you want to delete this Review?"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(e){n(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/reviews/delete/".concat(e.id),{method:"DELETE"});case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n(ee(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)).then(s),n(te()),r.push("/reviews")},children:"Delete"}),Object(u.jsx)("button",{onClick:s,children:"Cancel"})]})]})})},Ve=function(e){var t,n,s=e.review,c=e.formType,a=e.disabled,o=(e.tasker,Object(i.b)()),j=Object(De.useHistory)(),d=Object(r.useState)(null===(t=s)||void 0===t?void 0:t.review_text),b=Object(l.a)(d,2),O=b[0],v=b[1],f=Object(r.useState)(null===(n=s)||void 0===n?void 0:n.star_rating),g=Object(l.a)(f,2),k=g[0],y=g[1],w=Object(r.useState)(k),N=Object(l.a)(w,2),_=N[0],C=N[1],S=Object(r.useState)({}),T=Object(l.a)(S,2),E=T[0],R=T[1],M=h().closeModal;Object(r.useEffect)((function(){C(k)}),[k]);for(var U=function(){a||C(k)},P=function(e){a||y(parseInt(e+1))},I=[],D=function(e){var t=e<_?"fas fa-star":"far fa-star";I.push(Object(u.jsx)("div",{className:t,onMouseEnter:function(){return function(e){a||C(e+1)}(e)},onMouseLeave:U,onClick:function(){return P(e)}}))},B=0;B<5;B++)D(B);var F=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={},(s=Object(x.a)(Object(x.a)({},s),{},{review_text:O,star_rating:k})).review_text.length<5&&(n.review_text="Review text needs to be at least 5 characters long"),s.star_rating||(n.star_rating="Must rate from 1-5"),"Create Review"!==c||Object.keys(n).length){e.next=11;break}return e.next=8,o(se(s)).then(M);case 8:j.push("/taskers/".concat(s.tasker_id)),e.next=17;break;case 11:if("Edit Review"!==c||Object.keys(n).length){e.next=17;break}return e.next=14,o(ce(s)).then(M);case 14:j.push("/reviews"),o(te()),o(re(s));case 17:n&&R(n);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"reviewForm ",onSubmit:F,children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Your Review"})}),E.review_text,Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{className:"textInfo",type:"text",value:O,placeholder:"What did you think? Any feedback is helpful.",onChange:function(e){return v(e.target.value)}})}),E.star_rating,Object(u.jsxs)("div",{children:[I," Stars"]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",disabled:!O||!k,children:"Submit your Review"})})]})},We=function(e){var t=e.review;Object(De.useHistory)(),Object(i.b)(),h().closeModal;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Ve,{review:t,formType:"Edit Review"})})},Ke=(n(65),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.review.currentUserReviews}));Object(r.useEffect)((function(){e(te())}),[e]);var n=function(e){for(var t=[],n=0;n<e;n++)t.push(Object(u.jsx)("i",{className:"fas fa-star"}));return t},s=0,c=0;Object.values(t).forEach((function(e){c+=e.star_rating,s++}));var a=c/s;return t?Object(u.jsxs)("div",{children:[0!==s?Object(u.jsx)("h2",{children:"Manage your reviews"}):Object(u.jsx)("h2",{children:"You have no reviews"}),a&&0!==s?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"review-averages",children:[Object(u.jsxs)("div",{children:["Average ",Object(u.jsx)("i",{className:"fas fa-star"}),"(",a.toFixed(1),")"]}),Object(u.jsxs)("div",{children:["Total ",Object(u.jsx)("i",{className:"fas fa-comment-dots"})," (",s,")"]})]})}):null,Object(u.jsx)("div",{className:"review-card-container",children:Object.values(t).map((function(e){return Object(u.jsx)("div",{className:"review-container",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"review",children:[Object(u.jsx)("div",{className:"star-rating-container",children:n(null===e||void 0===e?void 0:e.star_rating)}),Object(u.jsx)("div",{className:"review-body",children:null===e||void 0===e?void 0:e.review_text})]}),Object(u.jsxs)("div",{className:"buttons-div",children:[Object(u.jsx)("div",{className:"single-button",children:Object(u.jsx)(Le,{buttonText:"Edit",modalComponent:Object(u.jsx)(We,{review:e})})}),Object(u.jsx)("div",{className:"single-button",children:Object(u.jsx)(Le,{className:"one-button",buttonText:"Delete",modalComponent:Object(u.jsx)(Ge,{review:e})})})]})]})})}))})]}):"loading.."}),ze=(n(66),function(e){var t={review_text:"",star_rating:"",tasker_id:e.taskerId};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Ve,{review:t,formType:"Create Review"})})}),Qe=function(e){var t=e.bookingId,n=Object(i.b)(),r=h().closeModal,s=function(){var e=Object(m.a)(p.a.mark((function e(s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,n(F(t));case 3:n(D()).then(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"bookingTitle",children:"Are you sure you want to cancel your booking?"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:s,children:"Yes (Delete Booking)"}),Object(u.jsx)("button",{onClick:r,children:"Cancel (Keep Booking)"})]})]})},Xe=(n(67),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.booking.currentUserBookings})),n=Object.values(t),s=Object(i.c)((function(e){return e.review.allReviews})),c=Object(i.c)((function(e){return e.session.user})),a=Object.values(s).filter((function(e){return e.user_id===(null===c||void 0===c?void 0:c.id)})),l=Object(i.c)((function(e){return e.tasker.allTaskers})),j=Object.values(l),d=[];return n.forEach((function(e){var t=j.find((function(t){return e.tasker_id===t.id}));t&&d.push(t)})),Object(r.useEffect)((function(){e(D()),e(ne()),e(H()),e(de())}),[e]),Object(u.jsxs)("div",{id:"outer-container",children:[Object(u.jsx)("h1",{children:"Tasks you've booked"}),Object(u.jsx)("div",{id:"body-container",children:n.length>0?Object(u.jsx)("div",{id:"bookings-container",children:n.map((function(e){return Object(u.jsxs)("div",{id:"tile",children:[d.filter((function(t){return t.id===e.tasker_id})).map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"profile-image-container",children:[Object(u.jsx)("img",{class:"profile-image",src:e.profile_image}),Object(u.jsxs)("span",{children:[e.first_name,", ",e.last_name]},e.id),Object(u.jsx)(o.b,{to:"/taskers/".concat(e.id),children:Object(u.jsx)("button",{class:"contact-tasker-button",children:"Tasker Profile"})})]})})})),Object(u.jsxs)("div",{className:"booking-description",children:[Object(u.jsxs)("h2",{children:[e.category," in ",e.city]}),Object(u.jsxs)("div",{class:"duration-div",children:[Object(u.jsx)("span",{class:"bolded",children:"Task Length:"}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:[e.duration," task"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{class:"bolded",children:"Details: "}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:e.details})]}),Object(u.jsxs)("p",{children:[" Booked for ",e.updated_at," "]})]}),Object(u.jsxs)("div",{className:"buttons-div",children:[Object(u.jsx)("div",{className:"review",children:a.find((function(t){return t.tasker_id===e.tasker_id}))?Object(u.jsx)("button",{className:"reviewed-button",disabled:"true",children:"Already reviewed!"}):Object(u.jsx)(Le,{buttonText:"Post Your Review!",modalComponent:Object(u.jsx)(ze,{taskerId:e.tasker_id})})}),Object(u.jsxs)("div",{class:"edit-delete-div",children:[Object(u.jsx)(o.b,{class:"edit-button",to:"/booking/".concat(e.id),children:Object(u.jsx)("button",{children:"Edit Booking"})}),Object(u.jsx)(Le,{buttonText:"Delete Booking",modalComponent:Object(u.jsx)(Qe,{bookingId:e.id})})]})]})]})}))}):Object(u.jsx)("h1",{children:"You have no bookings."})})]})}),Ze=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.task.allTasks})),n=Object.values(t);return Object(r.useEffect)((function(){e(H())}),[e]),Object(u.jsx)(u.Fragment,{children:n.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:["id: ",e.id]}),Object(u.jsxs)("div",{children:["category: ",e.category]}),Object(u.jsxs)("div",{children:["description: ",e.description]}),Object(u.jsxs)("div",{children:["tasker_id: ",e.tasker_id]}),Object(u.jsxs)("div",{children:["available:",e.available]}),Object(u.jsx)("br",{})]})}))})},$e=(n(68),function(e){var t,n,s,c,a,o,j,d=e.booking,b=e.formType,h=Object(i.b)(),O=Object(De.useHistory)(),v=Object(r.useState)(null===(t=d)||void 0===t?void 0:t.category),f=Object(l.a)(v,2),g=f[0],k=f[1],y=Object(r.useState)(null===(n=d)||void 0===n?void 0:n.city),w=Object(l.a)(y,2),N=w[0],_=w[1],C=Object(r.useState)(null===(s=d)||void 0===s?void 0:s.duration),S=Object(l.a)(C,2),T=S[0],E=S[1],R=Object(r.useState)(null===(c=d)||void 0===c?void 0:c.details),M=Object(l.a)(R,2),U=M[0],P=M[1],F=Object(r.useState)(""),L=Object(l.a)(F,2),A=L[0],q=L[1],J=Object(De.useParams)().taskerId,Y=Object(i.c)((function(e){return e.task.allTasks})),G=Object.values(Y).find((function(e){return e.tasker_id===parseInt(J)})),V=Object(i.c)((function(e){return e.tasker.singleTasker})),W=Object.values(V);Object(r.useEffect)((function(){h(H()),h(be(J))}),[h]);var K=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={},g||(n.category="Category is required"),N||(n.city="City is required"),T||(n.duration="Duration is required"),U||(n.details="Details are required"),q(n),!Object.keys(n).length){e.next=9;break}return e.abrupt("return");case 9:d=Object(x.a)(Object(x.a)({},d),{},{category:g,city:N,duration:T,details:U}),"Create Booking"===b&&(h(I(d)),h(D()),O.push("/bookings/all")),"Edit Booking"===b&&(h(B(d)),h(D()),O.push("/bookings/all"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{id:"form-container",children:Object(u.jsx)("div",{id:"booking-form",className:"booking-form border",children:Object(u.jsxs)("form",{onSubmit:K,children:["Edit Booking"===b?Object(u.jsx)("div",{children:Object(u.jsxs)("h2",{children:["Edit your Booking for ",d.category," in ",d.city]})}):Object(u.jsxs)("h2",{children:["Create your Booking with ",null===(a=W[0])||void 0===a?void 0:a.first_name]}),"Create Booking"===b?Object(u.jsxs)("div",{id:"category",className:"border",children:[Object(u.jsxs)("div",{className:"heading-error",children:[Object(u.jsxs)("h3",{children:["What category did you want ",null===(o=W[0])||void 0===o?void 0:o.first_name," to help out with?"]}),A.category?Object(u.jsx)("p",{className:"errors",children:A.category}):null]}),Object(u.jsxs)("select",{onChange:function(e){return k(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"--Please choose a category--"}),Object(u.jsx)("option",{disabled:"Software Engineering"!==(null===G||void 0===G?void 0:G.category),value:"Software Engineering",children:"Software Engineering"}),Object(u.jsx)("option",{disabled:"Matchmaking"!==(null===G||void 0===G?void 0:G.category),value:"Matchmaking",children:"Matchmaking"}),Object(u.jsx)("option",{disabled:"Cooking"!==(null===G||void 0===G?void 0:G.category),value:"Cooking",children:"Cooking"}),Object(u.jsx)("option",{disabled:"Dancing"!==(null===G||void 0===G?void 0:G.category),value:"Dancing",children:"Dancing"}),Object(u.jsx)("option",{disabled:"Tutoring"!==(null===G||void 0===G?void 0:G.category),value:"Tutoring",children:"Tutoring"}),Object(u.jsx)("option",{disabled:"Music"!==(null===G||void 0===G?void 0:G.category),value:"Music",children:"Music"})]})]}):null,"Create Booking"===b?Object(u.jsxs)("div",{id:"city",className:"border",children:[Object(u.jsxs)("div",{className:"heading-error",children:[Object(u.jsx)("h3",{children:"Which city are you located?"}),A.city?Object(u.jsx)("p",{className:"errors",children:A.city}):null]}),Object(u.jsxs)("select",{onChange:function(e){return _(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"--Please choose a city--"}),Object(u.jsx)("option",{value:"San Francisco",children:"San Francisco"}),Object(u.jsx)("option",{disabled:"Los Angeles"!==(null===G||void 0===G?void 0:G.city),value:"Los Angeles",children:"Los Angeles"}),Object(u.jsx)("option",{disabled:"Miami"!==(null===G||void 0===G?void 0:G.city),value:"Miami",children:"Miami"}),Object(u.jsx)("option",{disabled:"Toronto"!==(null===G||void 0===G?void 0:G.city),value:"Toronto",children:"Toronto"}),Object(u.jsx)("option",{disabled:"Joshua Tree"!==(null===G||void 0===G?void 0:G.city),value:"Joshua Tree",children:"Joshua Tree"})]})]}):null,Object(u.jsxs)("div",{id:"duration",className:"border",children:[Object(u.jsxs)("div",{className:"heading-error",children:[Object(u.jsx)("h3",{children:"How long is your task?"}),A.duration?Object(u.jsx)("p",{className:"errors",children:A.duration}):null]}),Object(u.jsxs)("div",{className:"radio duration-container",children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"short",name:"duration",checked:"short"===T,onChange:function(e){return E(e.target.value)}}),"Short - Est. 1hr"]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"medium",name:"duration",checked:"medium"===T,onChange:function(e){return E(e.target.value)}}),"Medium - Est. 2-3 hrs"]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"long",name:"duration",checked:"long"===T,onChange:function(e){return E(e.target.value)}}),"Long - Est. 4+ hrs"]})]})]}),Object(u.jsxs)("div",{id:"details",className:"border",children:[Object(u.jsxs)("div",{className:"heading-text",children:[Object(u.jsxs)("div",{className:"heading-error",children:[Object(u.jsx)("h3",{children:"Tell us the details of your task"}),A.details?Object(u.jsx)("p",{className:"errors",children:A.details}):null]}),"Start the conversation and tell ",null===(j=W[0])||void 0===j?void 0:j.first_name," what you need done. This helps your Tasker what to expect when preparing for your appointment. Don't worry, you can always edit your booking later!"]}),Object(u.jsx)("div",{className:"border",children:Object(u.jsx)("textarea",{type:"text",placeholder:"Please write something about your task!",value:U,onChange:function(e){return P(e.target.value)}})})]}),Object(u.jsx)("div",{className:"center",children:Object(u.jsx)("button",{type:"submit",disabled:!(g||N||T||U),children:"Submit"})})]})})})}),et=function(){var e=Object(i.b)(),t=Object(De.useHistory)(),n=Object(De.useParams)().taskerId,s=Object(i.c)((function(e){return e.booking.currentUserBookings})),c=Object.values(s).find((function(e){return e.tasker_id===parseInt(n)}));Object(r.useEffect)((function(){e(D())}),[e]),c&&t.push("/bookings/all");var a={category:"",city:"",duration:"",details:"",tasker_id:n};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)($e,{booking:a,formType:"Create Booking"})})},tt=function(){var e=Object(i.b)(),t=Object(De.useParams)().bookingId,n=Object(i.c)((function(e){return e.booking.singleBooking[t]}));return Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/bookings/single/".concat(e));case 2:if(!(r=t.sent).ok){t.next=8;break}return t.next=6,r.json();case 6:s=t.sent,n({type:R,booking:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e,t]),n?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)($e,{booking:n,formType:"Edit Booking"})}):"no booking with that id"},nt=(n(69),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.tasker.allTaskers}));return Object(r.useEffect)((function(){e(de())}),[e]),t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"available-tasker-div",children:Object(u.jsx)("h2",{className:"our-available-taskers",children:"Available Taskers"})}),Object(u.jsx)("div",{className:"outer-available",children:Object.values(t).map((function(e){return Object(u.jsx)(u.Fragment,{children:e.available?Object(u.jsx)("div",{className:"available-tasker-card",children:Object(u.jsxs)(o.c,{className:"available-links",exact:!0,to:"taskers/".concat(e.id),children:[Object(u.jsx)("div",{className:"image-card",children:Object(u.jsx)("img",{className:"imag",src:e.profile_image})}),Object(u.jsxs)("div",{className:"available-tasker-info",children:[Object(u.jsx)("div",{className:"available-first-last-name",children:Object(u.jsxs)("h3",{children:[e.first_name," ",e.last_name]})}),Object(u.jsxs)("div",{className:"availables available-city",children:[Object(u.jsx)("i",{className:"fas fa-city availablesss",children:"   "}),e.city]}),Object(u.jsxs)("div",{className:"availables available-email",children:[Object(u.jsx)("i",{className:"fab fa-telegram-plane",children:" "}),e.email]}),Object(u.jsxs)("div",{className:"availables available-tools",children:[Object(u.jsx)("i",{className:"fas fa-wrench",children:" "}),e.tools]}),Object(u.jsxs)("div",{className:"availables available-vehicle",children:[Object(u.jsx)("i",{className:"fas fa-truck",children:" "}),e.vehicles]}),Object(u.jsx)("h3",{className:"available-view-profile",children:"View Tasker Profile"})]}),Object(u.jsx)("br",{})]})}):null})}))})]}):"loading.."}),rt=(n(70),function(){var e=Object(i.b)(),t=Object(De.useParams)().taskerId,n=Object(i.c)((function(e){return e.tasker.singleTasker[t]})),s=Object(i.c)((function(e){return e.review.allReviews})),c=Object.values(s),a=Object(i.c)((function(e){return e.session.user})),l=Object(i.c)((function(e){return e.booking.currentUserBookings})),j=Object.values(l).filter((function(e){return(null===a||void 0===a?void 0:a.id)===e.user_id})),d=[];j.forEach((function(e){if(e.tasker_id===parseInt(t))return d.push(e.tasker_id)})),Object(r.useEffect)((function(){e(be(t)),e(ne()),e(D())}),[e,t]);var b=c.filter((function(e){return e.tasker_id===parseInt(t)})),h=[];return n?(b.forEach((function(e){return h.push(e.user_id)})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"single-tasker-main-container",children:[Object(u.jsxs)("div",{className:"single-img-container",children:[Object(u.jsx)("img",{className:"single-tasker-img",src:n.profile_image}),Object(u.jsxs)("div",{className:"single-tasker-name",children:[n.first_name," ",n.last_name]}),Object(u.jsxs)("div",{className:"about-me-container",children:[Object(u.jsx)("h4",{className:"single-about-me",children:"About Me:"}),Object(u.jsx)("div",{className:"single-tasker-about-me",children:n.bio})]})]}),Object(u.jsxs)("div",{className:"single-tasker-other-info",children:[a?null:Object(u.jsx)("h2",{children:"Sign up to book this tasker!"}),a&&(!0===n.available?Object(u.jsxs)("div",{className:"book-tasker-header",children:[Object(u.jsx)("h1",{children:"This tasker is available to book!"}),Object(u.jsx)(o.c,{className:"book-tasker-link",exact:!0,to:"/".concat(n.id,"/bookings/new"),children:"Book this Tasker"})]}):Object(u.jsx)("h1",{children:"This tasker is unavailable at the moment"})),Object(u.jsxs)("div",{className:"single-tasker-city-tools-etc",children:[Object(u.jsx)("h3",{className:"single-tasker-my-skills",children:"My Skills: "}),Object(u.jsx)("div",{children:n.city}),Object(u.jsx)("div",{children:n.email}),Object(u.jsx)("div",{children:n.phone_number}),Object(u.jsx)("div",{children:n.tools}),Object(u.jsx)("div",{children:n.vehicles})]}),a?h.includes(a.id)||!d.includes(parseInt(t))?null:Object(u.jsx)(Le,{buttonText:"Post Your Review!",modalComponent:Object(u.jsx)(ze,{taskerId:n.id})}):null,Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"single-tasker-reviews-container",children:[Object(u.jsx)("h3",{className:"single-tasker-review",children:"Reviews:"}),b.length>0?b.map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"single-tasker-reviews",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("i",{className:"fas fa-star",children:[" ",e.star_rating]})}),Object(u.jsx)("div",{children:e.review_text})]})})})):"Book and be the first to Review!","   "]})})]})]})})):"This tasker does not exist"}),st=(n(71),n(27)),ct=function(){var e=Object(st.useHistory)(),t=Object(st.useLocation)(),n=Object(i.b)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),o=a[0],j=a[1],d=Object(i.c)((function(e){return e.tasker.allTaskers})),b=Object.values(d);Object(r.useEffect)((function(){n(de())}),[n]);return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)("div",{className:"search-container",children:[Object(u.jsx)("div",{className:"book-your-next-task",children:Object(u.jsx)("h1",{className:"h2-book-next",children:"Book your next Task"})}),Object(u.jsxs)("div",{className:"search-card",children:[Object(u.jsx)("input",{className:"search-bar",type:"search",placeholder:"See below for some categories to search",onChange:function(e){e.preventDefault(),j(e.target.value)},value:o,onKeyDown:function(t){"Enter"===t.key&&e.push("/results?query=".concat(o))}}),Object(u.jsx)(st.NavLink,{className:"home-link-search",to:{pathname:"/results",search:"?query=".concat(o)},children:Object(u.jsx)("div",{className:"search-home-button",children:Object(u.jsx)("button",{hidden:!0,className:"home-button-search",children:Object(u.jsx)("i",{className:"fas fa-search"})})})})]})]}),"/results"!==t.pathname&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"home-top-taskers",children:[Object(u.jsxs)("div",{className:"container-ikea",children:[Object(u.jsx)("img",{className:"bunny-yellow",src:"https://www.taskrabbit.com/v3/assets/_/_/_/_/_/_/_/apps/web/app/assets/images/web/dashboard/active-task-dashboard-img-da2fc974db98b71b4da8eef8f25db4fb.png"}),Object(u.jsxs)("div",{className:"ikea-1",children:[Object(u.jsx)("h2",{className:"how-panda-use",children:"How do you use your TaskPanda Account?"}),Object(u.jsx)("h3",{className:"how-panda-use",children:"A select below feature to recieve special offers coming soon!"})]})]}),Object(u.jsxs)("div",{className:"partnered",children:[Object(u.jsxs)("div",{children:[" ",Object(u.jsx)("i",{className:"fas fa-star stars-home"}),Object(u.jsx)("i",{className:"fas fa-star stars-home"}),Object(u.jsx)("i",{className:"fas fa-star stars-home"}),Object(u.jsx)("i",{className:"fas fa-star stars-home"}),Object(u.jsx)("i",{className:"fas fa-star stars-home"})]}),Object(u.jsx)("p",{children:" 10+ Reviews"}),Object(u.jsx)("img",{className:"app-academy-logo",src:"https://assets-global.website-files.com/5dcc7f8c449e597ed83356b8/603820afd31232aab368ea6f_New%20Red-logo-emblem.webp"}),Object(u.jsx)("p",{children:" Partnered with App Academy"})]}),Object(u.jsx)("div",{className:"home-h2-tasker",children:Object(u.jsx)("h2",{children:"View some of our top taskers!"})}),Object(u.jsxs)("div",{className:"container2",children:[b.map((function(e,t){return t<3?Object(u.jsxs)("div",{className:"tasker-containers",children:[Object(u.jsx)("div",{className:"popular-taskers-home",children:"Popular"}),Object(u.jsxs)(s.a.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)(st.NavLink,{exact:!0,to:"/taskers/".concat(e.id),children:Object(u.jsx)("img",{className:"imags",src:e.profile_image})})}),Object(u.jsxs)("div",{className:"fist-last-name-home",children:[e.first_name,e.last_name]}),Object(u.jsxs)("div",{className:"container-avalable-elite",children:[Object(u.jsx)("div",{children:e.available?"Available":"Not Available"}),Object(u.jsxs)("div",{className:"about-tasker",children:[Object(u.jsx)("div",{className:"hr"}),Object(u.jsx)("p",{className:"elite-tasker",children:"Elite Tasker"}),Object(u.jsx)("hr",{})]})]}),Object(u.jsxs)("div",{className:"tools-bio",children:[Object(u.jsxs)("div",{className:"ha city",children:[Object(u.jsx)("i",{className:"fas fa-city",children:" "}),e.city]}),Object(u.jsxs)("div",{className:"ha prices",children:[Object(u.jsx)("i",{className:"fas fa-money-bill",children:" "}),e.hourly_rate]}),Object(u.jsxs)("div",{className:"ha vehicles",children:[Object(u.jsx)("i",{className:"fas fa-truck",children:" "}),e.vehicles]}),Object(u.jsx)("div",{className:"view-tasker-profile",children:"View Tasker Profile"})]}),Object(u.jsx)("br",{})]},e.id)]}):null}))," "]})]})})]})},at=function(e){var t=e.card,n=Object(i.b)(),r=Object(De.useHistory)(),s=h().closeModal,c=function(){var e=Object(m.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,n(we(t.id)).then(s);case 3:n(ke),r.push("/billing");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:"Confirm Delete"})}),Object(u.jsx)("p",{children:"Are you sure you want to remove this card?"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:c,children:"Delete"}),Object(u.jsx)("button",{onClick:s,children:"No, keep card"})]})]})})},it=function(e){var t=e.card,n=e.formType,s=(e.disabled,Object(i.b)()),c=Object(De.useHistory)(),a=h().closeModal,o=Object(r.useState)(""),j=Object(l.a)(o,2),d=j[0],b=j[1],O=Object(r.useState)(""),v=Object(l.a)(O,2),f=v[0],g=v[1],k=Object(r.useState)(""),y=Object(l.a)(k,2),w=y[0],N=y[1],_=Object(r.useState)(""),C=Object(l.a)(_,2),S=C[0],T=C[1],E=Object(r.useState)(""),R=Object(l.a)(E,2),M=R[0],U=R[1],P=Object(r.useState)({}),I=Object(l.a)(P,2),D=I[0],B=I[1],F=function(){var e=Object(m.a)(p.a.mark((function e(r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i={},d||(i.first_name="First Name is required"),f||(i.last_name="Last Name is required"),w||(i.card_number="Card Number is required"),16!=w.toString().length&&(i.card_number="card must be 16 integers long"),isNaN(w)&&(i.card_number="Must be integer"),S||(i.security_code="Security code is required"),3!=S.toString().length&&(i.security_code="Security code must be 3 integers"),isNaN(S)&&(i.security_code="Must be integer"),M||(i.debit_card="Please select one"),B(i),t=Object(x.a)(Object(x.a)({},t),{},{first_name:d,last_name:f,card_number:w,security_code:S,debit_card:M}),"Create Card"!==n){e.next=19;break}if(!(Object.values(i).length<1)){e.next=18;break}return e.next=17,s(ye(t)).then(a);case 17:c.push("/billing");case 18:s(ke());case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"billingForm",onSubmit:F,children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:"Card Information"})}),D.first_name?Object(u.jsx)("p",{children:D.first_name}):null,Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:d,placeholder:"first name",onChange:function(e){return b(e.target.value)}})}),D.last_name?Object(u.jsx)("p",{children:D.last_name}):null,Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:f,placeholder:"last name",onChange:function(e){return g(e.target.value)}})}),D.card_number?Object(u.jsx)("p",{children:D.card_number}):null,Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:w,placeholder:"card_number ",onChange:function(e){return N(e.target.value)}})}),D.security_code?Object(u.jsx)("p",{children:D.security_code}):null,Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:S,placeholder:"security code ",onChange:function(e){return T(e.target.value)}})}),D.debit_card?Object(u.jsx)("p",{children:D.debit_card}):null,Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:["Debit",Object(u.jsx)("input",{type:"radio",value:"yes",name:"debit?",onChange:function(e){return U(e.target.value)}}),"Credit",Object(u.jsx)("input",{type:"radio",value:"no",name:"debit?",onChange:function(e){return U(e.target.value)}})]})}),Object(u.jsx)("button",{type:"submit",children:"Add New Card"})]})},ot=function(){return Object(u.jsx)(it,{newCard:{first_name:"",last_name:"",card_number:"",security_code:"",debit_card:""},formType:"Create Card"})},lt=(n(72),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.billing.currentUserCards})),n=h().setModalContent,s=Object.values(t);if(Object(r.useEffect)((function(){e(ke())}),[e]),!t)return"loading..";return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Saved cards"}),Object(u.jsxs)("div",{className:"card_container",children:[Object(u.jsx)("div",{className:"card button-container",onClick:function(){n(Object(u.jsx)(ot,{}))},children:Object(u.jsx)("div",{className:"add_button",children:"+ Add Payment Card"})}),s.map((function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"debit_credit",children:["yes"===e.debit_card&&Object(u.jsx)("div",{children:"DEBIT"}),"no"===e.debit_card&&Object(u.jsx)("div",{children:"CREDIT"})]}),Object(u.jsx)("div",{className:"card-header",children:Object(u.jsxs)("div",{className:"card_ending",children:[" ",Object(u.jsx)("div",{className:"dots",children:"\xb7\xb7\xb7\xb7  \xb7\xb7\xb7\xb7  \xb7\xb7\xb7\xb7 "}),e.card_number.toString().slice(12,16)]})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"card_name",children:[e.first_name,", ",e.last_name]})}),Object(u.jsx)(Le,{buttonText:"Delete Card",modalComponent:Object(u.jsx)(at,{card:e})})]},e.id)}))]})]})}),ut=(n(73),function(){var e=Object(i.c)((function(e){return e.session.user}));return Object(u.jsx)("div",{id:"account-body-div",children:Object(u.jsxs)("div",{className:"account-heading-content-div",children:[Object(u.jsx)("h2",{children:"Your Account"}),Object(u.jsxs)("div",{class:"account-div",children:[Object(u.jsxs)("div",{className:"links-div",children:[Object(u.jsx)("div",{children:Object(u.jsx)(o.c,{exact:!0,to:"/reviews",children:"Manage Your Reviews"})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.c,{exact:!0,to:"/billing",children:"Your Payments"})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.c,{exact:!0,to:"/bookings/all",children:"Your bookings"})})]}),Object(u.jsxs)("div",{className:"user-info-div",children:[Object(u.jsxs)("div",{className:"currUser-name",children:[Object(u.jsx)("i",{class:"fa-solid fa-user"}),Object(u.jsxs)("span",{children:[e.first_name,", ",e.last_name]})]}),Object(u.jsxs)("div",{className:"currUser-email",children:[Object(u.jsx)("i",{class:"fa-solid fa-envelope"}),Object(u.jsx)("span",{children:e.email})]}),Object(u.jsxs)("div",{className:"currUser-phone",children:[Object(u.jsx)("i",{class:"fa-solid fa-phone"}),Object(u.jsx)("span",{children:e.phone_number})]}),Object(u.jsxs)("div",{className:"currUser-city",children:[Object(u.jsx)("i",{class:"fa-sharp fa-solid fa-location-dot"}),Object(u.jsx)("span",{children:e.city})]})]})]})]})})}),jt=(n(74),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(De.useLocation)(),a=new URLSearchParams(c.search).get("query")||"";Object(r.useEffect)((function(){i()}),[a]);var i=function(){fetch("/api/search/?query=".concat(a)).then((function(e){return e.json()})).then((function(e){return s(e.results)})).catch((function(e){return console.error(e)}))},j=function(e){var t=null===e||void 0===e?void 0:e.toLowerCase(),n=a.toLowerCase(),r=[],s=0;if(!a)return e;for(;s<(null===e||void 0===e?void 0:e.length);){var c=t.indexOf(n,s);if(-1===c){r.push(e.substr(s));break}r.push(e.substring(s,c)),r.push(Object(u.jsx)("span",{className:"highlighted",children:e.substr(c,a.length)})),s=c+a.length}return r};return Object(u.jsx)("section",{className:"root",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(ct,{searchInput:a,handleSearch:i}),Object(u.jsx)("div",{class:"all-results",children:(null===n||void 0===n?void 0:n.length)>0?n.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{class:"link-to-taskers",to:"/taskers/".concat(e.id),children:Object(u.jsxs)("div",{className:"test",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{className:"result-card",children:Object(u.jsxs)("div",{class:"profile-pic",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{class:"imag",src:e.url})}),Object(u.jsx)("button",{className:"contact-button",children:"Contact tasker!"})]})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"name-price",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("h2",{children:[j(null===e||void 0===e?void 0:e.firstName),", ",j(null===e||void 0===e?void 0:e.lastName[0])]})}),Object(u.jsx)("div",{className:"price",children:j(null===e||void 0===e?void 0:e.price)})]}),Object(u.jsxs)("div",{className:"tasker-details",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("i",{class:"fas fa-truck"}),j(null===e||void 0===e?void 0:e.vehicles)]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("i",{className:"fas fa-toolbox"}),j(null===e||void 0===e?void 0:e.tools)]})]}),Object(u.jsxs)("div",{className:"tasker-bio-card",children:[Object(u.jsx)("div",{className:"text-to-help",children:"How I can help:"}),Object(u.jsx)("div",{className:"tasker-bio",children:j(null===e||void 0===e?void 0:e.bio)},null===e||void 0===e?void 0:e.id),Object(u.jsx)("div",{children:j(null===e||void 0===e?void 0:e.city)}),Object(u.jsxs)("div",{children:["contact tasker: email: ",j(null===e||void 0===e?void 0:e.email),", phone number:",j(null===e||void 0===e?void 0:e.phone)]}),e.tasks.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:j(null===e||void 0===e?void 0:e.category)}),Object(u.jsx)("div",{children:j(null===e||void 0===e?void 0:e.description)})]})}))]})]})]})}),Object(u.jsx)("br",{})]})})):Object(u.jsx)("div",{children:" Sorry, no Results found :( "})})]})})}),dt=n(48),bt=n(47),ht=(n(79),function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),a=Object(l.a)(c,2),o=a[0],j=a[1],d=Object(i.c)((function(e){return e.session.user})),b=Object(De.useParams)().userMessageId,h=Object(i.b)(),O=Object(i.c)((function(e){return e.messages.allMsg})),v=Object(r.useRef)(null),x=function(){var e;null===(e=v.current)||void 0===e||e.scrollIntoView({scrollIntoViewOptions:{block:"nearest",inline:"end"},behavior:"smooth"})};Object(r.useEffect)((function(){return Je=Object(bt.a)(),h(Ee(b)),Je.on("chat",(function(e){j((function(t){return[].concat(Object(dt.a)(t),[e])}))})),function(){Je.disconnect()}}),[]);return Object(r.useEffect)((function(){h(Ee(b)),x()}),[o,x()]),Object(u.jsx)("div",{className:"chat-center",children:Object(u.jsxs)("div",{className:"chat-container",children:[Object(u.jsxs)("div",{className:"chats",children:[O&&Object.values(O).map((function(e){return Object(u.jsx)("div",{children:e.userId===d.id?Object(u.jsxs)("div",{className:"mymessage",children:[e.userInfo.first_name,": ",Object(u.jsx)("p",{className:"my-chat-boxes",children:e.body})]}):Object(u.jsxs)("div",{children:[e.userInfo.first_name,": ",Object(u.jsx)("p",{className:"their-chat-boxes",children:e.body})]})})})),Object(u.jsx)("div",{ref:v})]}),d&&Object(u.jsx)("div",{children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),Je.emit("chat",{user_id:d.id,body:n,user_message_id:b}),h(Ee(b)),s("")},children:Object(u.jsxs)("div",{className:"chat-box",children:[Object(u.jsx)("input",{value:n,onChange:function(e){s(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Send"})]})})})]})})}),Ot=(n(80),function(e){var t,n,r=e.user,s=Object(De.useHistory)(),c=Object(i.b)(),a=Object(i.c)((function(e){return e.messages.userMsgs})),o=Object(i.c)((function(e){return e.session.user}));a&&(t=Object.values(a));var l=function(){for(var e=0;e<(null===(s=t)||void 0===s?void 0:s.length);e++){var s;if(t[e].user1_id===o.id&&t[e].user2_id===r.id||t[e].user1_id===r.id&&t[e].user2_id===o.id)return n=t[e].id,!0}return!1}(),j=function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}s.push("/chat/".concat(n)),e.next=8;break;case 4:return e.next=6,c(Re(r));case 6:a=e.sent,s.push("/chat/".concat(a.id));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"users-page",children:r.id!==o.id?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"user-to-chat",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[r.first_name," ",r.last_name]}),Object(u.jsxs)("div",{className:"description-box",children:["Hi, my name is ",r.first_name,". Chat with me here or connect with me by email: ",r.email]})]}),Object(u.jsx)("i",{className:"far fa-comments actual",onClick:j})]})}):Object(u.jsx)("h3",{className:"task-panda-top",children:r.first_name})})}),vt=function(){var e=Object(i.b)();Object(De.useParams)().userId;Object(r.useEffect)((function(){e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:y,users:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/messages/user_messages/all");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:r=e.sent,t({type:Se,msgs:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(i.c)((function(e){return e.session.allUsers}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"task-panda-community",children:"Task Panda Community!"}),Object(u.jsxs)("div",{className:"task-panda-p",children:[Object(u.jsx)("p",{children:"Meet other TaskPanda users and Chat with them! Just click on the Chat Icon"}),Object(u.jsx)("i",{className:"far fa-comments"}),Object(u.jsx)("p",{children:"to connect with them!"})]}),Object(u.jsxs)("div",{className:"users-container",children:[Object(u.jsx)("h3",{className:"task-panda-top",children:"Task Panda Users"}),t&&Object.values(t).map((function(e){return Object(u.jsx)(Ot,{user:e},e.id)}))]})]})};var xt=function(){var e=Object(i.b)(),t=Object(r.useState)(!1),n=Object(l.a)(t,2),s=n[0],c=n[1];return Object(r.useEffect)((function(){e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/",{headers:{"Content-Type":"application/json"}});case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:if(!(r=e.sent).errors){e.next=9;break}return e.abrupt("return");case 9:t(w(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return c(!0)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ye,{isLoaded:s}),s&&Object(u.jsxs)(De.Switch,{children:[Object(u.jsx)(De.Route,{path:"/login",children:Object(u.jsx)(Fe,{})}),Object(u.jsx)(De.Route,{path:"/signup",children:Object(u.jsx)(Be,{})}),Object(u.jsx)(De.Route,{exact:!0,path:"/",component:ct}),Object(u.jsx)(De.Route,{exact:!0,path:"/chat/:userMessageId",component:ht}),Object(u.jsx)(De.Route,{exact:!0,path:"/results",component:jt}),Object(u.jsx)(De.Route,{exact:!0,path:"/users",component:vt}),Object(u.jsx)(De.Route,{exact:!0,path:"/reviews",component:Ke}),Object(u.jsx)(De.Route,{exact:!0,path:"/account",component:ut}),Object(u.jsx)(De.Route,{exact:!0,path:"/:taskerId/bookings/new",component:et}),Object(u.jsx)(De.Route,{exact:!0,path:"/bookings/all",component:Xe}),Object(u.jsx)(De.Route,{exact:!0,path:"/booking/:bookingId",component:tt}),Object(u.jsx)(De.Route,{exact:!0,path:"/tasks/all",component:Ze}),Object(u.jsx)(De.Route,{exact:!0,path:"/available",component:nt}),Object(u.jsx)(De.Route,{exact:!0,path:"/taskers/:taskerId",component:rt}),Object(u.jsx)(De.Route,{exact:!0,path:"/review/:reviewId",component:We}),Object(u.jsx)(De.Route,{exact:!0,path:"/billing",component:lt})]})]})},ft=(n(81),Ie());function pt(){return Object(u.jsx)(d,{children:Object(u.jsx)(i.a,{store:ft,children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(xt,{}),Object(u.jsx)(b,{})]})})})}a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(pt,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.3162b09c.chunk.js.map